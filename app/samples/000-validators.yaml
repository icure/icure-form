form: abortion-forms.CONTROL
id: 092be26a-d685-4430-9cd7-2f2e8cc8508a
description: abortion-forms.CONTROL
codifications:
  - type: MS-ABORTION-CONTRACEPTION-AFTER-ABORTION
    codes:
      - id: yes
        label:
          nl: Ja
          fr: Oui
      - id: no
        label:
          nl: Nee
          fr: Non
  - type: MS-ABORTION-CONTRACEPTION
    codes:
      - id: coitus-interrupted
        label:
          nl: Onderbroken geslachtsgemeenschap
          fr: Coït interrompu
      - id: periodic-abstinence
        label:
          nl: Periodieke onthouding
          fr: Abstinence périodique
      - id: spermicides
        label:
          nl: Spermiciden
          fr: Spermicides
      - id: pessary
        label:
          nl: Spiraaltje
          fr: Pessaire
      - id: condom
        label:
          nl: Condoom
          fr: Préservatif
      - id: oral-pill
        label:
          nl: Anticonceptiepil
          fr: Pilule contraceptive
      - id: progestone-only-pill
        label:
          nl: POP
          fr: Pilule progestative
      - id: injection-pill
        label:
          nl: INJECTION-PILL
          fr: Injection contraceptive
      - id: kiud
        label:
          nl: KIUD
          fr: KIUD
      - id: hiud
        label:
          nl: HIUD
          fr: HIUD
      - id: male-sterilization
        label:
          nl: Sterilisatie bij mannen
          fr: Stérilisation masculine
      - id: female-sterilization
        label:
          nl: Sterilisatie bij vrouwen
          fr: Stérilisation féminine
      - id: morning-after-pill
        label:
          nl: Morning-afterpil
          fr: Pilule du lendemain
      - id: implant
        label:
          nl: Implant
          fr: Implant contraceptif
      - id: patch
        label:
          nl: Anticonceptiepleister
          fr: Patch contraceptif
      - id: vaginal-ring
        label:
          nl: Vaginale ring
          fr: Anneau vaginal
      - id: symptothermal-method
        label:
          nl: Symptothermale methode
          fr: Méthode symptothermique
      - id: electronic-or-digital-methods
        label:
          nl: Elektronische of digitale methoden
          fr: Méthodes électroniques ou numériques
      - id: other-contraceptives
        label:
          nl: Andere anticonceptiemethoden
          fr: Autres contraceptifs
  - type: MS-ABORTION-CONTRACEPTIVE-DURING-CONTROL
    codes:
      - id: kiud
        label:
          nl: KIUD
          fr: KIUD
      - id: hiud
        label:
          nl: HIUD
          fr: HIUD
      - id: implant
        label:
          nl: Implant
          fr: Implant contraceptif
      - id: contraceptive-injection
        label:
          nl: Anticonceptie-injectie
          fr: Injection contraceptive
  - type: MS-ABORTION-ULTRASOUND-RESULT
    codes:
      - id: empty-cavity
        label:
          nl: Lege holte
          fr: Cavité vide
      - id: clots
        label:
          nl: Bloedstolsels
          fr: Caillots
      - id: retention
        label:
          nl: Retentie
          fr: Rétention
      - id: non-evolution-pregnancy
        label:
          nl: Niet-progressieve zwangerschap
          fr: Grossesse non progressive
      - id: evolution-pregnancy
        label:
          nl: Progressieve zwangerschap
          fr: Grossesse progressive
      - id: diffuse-image
        label:
          nl: Diffuse afbeelding
          fr: Image diffuse
  - type: MS-ABORTION-COMPLICATION
    codes:
      - id: none
        label:
          nl: Geen
          fr: Aucune
      - id: failed-suction-curettage
        label:
          nl: Mislukken zuigcurettage
          fr: Curetage échoué
      - id: bleeding
        label:
          nl: Bloeding die een bloedstelpende curettage vereist
          fr: Saignement nécessitant un curetage stypique
      - id: uterine-perforation
        label:
          nl: Baarmoederperforatie
          fr: Perforation utérine
      - id: cervical-laceration
        label:
          nl: Scheuring van de baarmoederhals
          fr: Rupture du col
      - id: infection
        label:
          nl: Infectieuze complicatie
          fr: Complication infectieuse
      - id: medical-treatment-failure
        label:
          nl: Falen van de medicamenteuze behandeling
          fr: Échec du traitement médicamenteux
      - id: other
        label:
          nl: Andere
          fr: Autre
translations:
  - language: nl
    translations:
      abortion-forms.field-labels.HEALTHCARE-PARTY: Arts
      abortion-forms.field-labels.PYSCHO-HEALTHCARE-PARTY: Psychosociale medewerker
      abortion-forms.field-labels.PATIENT-EVALUATION: Evaluatie door de cliënt
      abortion-forms.field-labels.CONTRACEPTION-AFTER-ABORTION: Gestart met anticonceptie na de ingreep
      abortion-forms.field-labels.CONTRACEPTION-YES: Welke anticonceptie
      abortion-forms.field-labels.CONTRACEPTION-YES-OTHER: Andere
      abortion-forms.field-labels.CONTRACEPTIVE-DURING-CONTROL: Anticonceptie geplaatst tijdens de controle?
      abortion-forms.field-labels.CONTRACEPTIVE-BRAND: Merknaam van anticonceptie
      abortion-forms.field-labels.FUTURE-CONTRACEPTION: Toekomstige anticonceptie
      abortion-forms.field-labels.OTHER-FUTURE-CONTRACEPTION: Andere
      abortion-forms.field-labels.ULTRASOUND-EVALUATION: Echografische evaluatie
      abortion-forms.field-labels.NOTES: Notities
      abortion-forms.field-labels.COMPLICATION: Onmiddellijke medische complicatie
      abortion-forms.field-labels.COMPLICATION-OTHER: Andere
      abortion-forms.field-labels.HCG-DATE: Datum HCG
      abortion-forms.field-labels.HCG-DOSAGE: HCG bepaling dag mifepristone
      abortion-forms.field-labels.FOLLOW-UP-MIN: Aantal minuten opvolging
      abortion-forms.field-labels.FOLLOW-UP-MIN.message: Het opvolgen moet tussen 15 en 240 minuten duren
      abortion-forms.field-labels.FOLLOW-UP-CONTRACEPTION-MIN: Aantal minuten anticonceptie
      abortion-forms.field-labels.CONTRACEPTIVE-NUMBER: Lotnummer van anticonceptie
  - language: fr
    translations:
      abortion-forms.field-labels.HEALTHCARE-PARTY: Médecin
      abortion-forms.field-labels.PYSCHO-HEALTHCARE-PARTY: Soignant psychosocial
      abortion-forms.field-labels.PATIENT-EVALUATION: Évaluation de la patiente
      abortion-forms.field-labels.CONTRACEPTION-AFTER-ABORTION: Contraception après l'avortement
      abortion-forms.field-labels.CONTRACEPTION-YES: Quelle contraception ?
      abortion-forms.field-labels.CONTRACEPTION-YES-OTHER: Autre
      abortion-forms.field-labels.CONTRACEPTIVE-DURING-CONTROL: Mise en place d'un contraceptif durant le contrôle ?
      abortion-forms.field-labels.CONTRACEPTIVE-BRAND: Marque de la contraception
      abortion-forms.field-labels.FUTURE-CONTRACEPTION: Contraception future
      abortion-forms.field-labels.OTHER-FUTURE-CONTRACEPTION: Autre
      abortion-forms.field-labels.ULTRASOUND-EVALUATION: Évaluation échographique
      abortion-forms.field-labels.NOTES: Notes
      abortion-forms.field-labels.COMPLICATION: Complication
      abortion-forms.field-labels.COMPLICATION-OTHER: Autre
      abortion-forms.field-labels.HCG-DATE: Date HCG
      abortion-forms.field-labels.HCG-DOSAGE: Dosage HCG
      abortion-forms.field-labels.FOLLOW-UP-MIN: Nombre de minutes de suivi
      abortion-forms.field-labels.FOLLOW-UP-MIN.message: Le suivi doit compter de 15 à 240 minutes
      abortion-forms.field-labels.FOLLOW-UP-CONTRACEPTION-MIN: Nombre de minutes de suivi contraception
      abortion-forms.field-labels.CONTRACEPTIVE-NUMBER: Numéro du lot
sections:
  - section: abortion-forms.section-labels.SECTION-1
    fields:
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.HEALTHCARE-PARTY
            type: dropdown
            codifications:
              - HCP-LIST|persphysician
            tags:
              - MS-ABORTION-CONTROL-ITEM|healthcareParty|1
          - field: abortion-forms.field-labels.PYSCHO-HEALTHCARE-PARTY
            type: dropdown
            codifications:
              - HCP-LIST|deptpsychiatry
            tags:
              - MS-ABORTION-CONTROL-ITEM|psychologicalHealthcareParty|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.PATIENT-EVALUATION
            type: textfield
            multiline: true
            span: 12
            tags:
              - MS-ABORTION-CONTROL-ITEM|evaluationOfPatient|1
            validators:
              - validation: return !!self['abortion-forms.field-labels.PATIENT-EVALUATION']?.length
                message: Veuillez remplir une évaluation de la patiente
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.CONTRACEPTION-AFTER-ABORTION
            type: radio-button
            styleOptions:
              direction: column
              span: 3
            codifications:
              - MS-ABORTION-CONTRACEPTION-AFTER-ABORTION
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptionAfterAbortion|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.CONTRACEPTION-YES
            type: checkbox
            computedProperties:
              hidden: |
                return !self['abortion-forms.field-labels.CONTRACEPTION-AFTER-ABORTION']?.some((item) => item?.codes.some(code => code.id === 'yes'))
            styleOptions:
              direction: column
              span: 4
            codifications:
              - MS-ABORTION-CONTRACEPTION
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptiveAfterAbortion|1
              - MS-ABORTION-ITEM|contraception|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.CONTRACEPTION-YES-OTHER
            type: textfield
            computedProperties:
              hidden: |
                return !self['abortion-forms.field-labels.CONTRACEPTION-AFTER-ABORTION']?.some((item) => item?.codes.some(code => code.id === 'yes')) || !self['abortion-forms.field-labels.CONTRACEPTION-YES']?.some((item) => item?.codes.some(code => code.id === 'other-contraceptives'))
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptiveAfterAbortionOther|1
              - MS-ABORTION-ITEM|contraception|1
              - MS-ABORTION-CONTRACEPTION|custom|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.CONTRACEPTIVE-DURING-CONTROL
            type: checkbox
            styleOptions:
              direction: column
              span: 2
            codifications:
              - MS-ABORTION-CONTRACEPTIVE-DURING-CONTROL
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptiveDuringControl|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.CONTRACEPTIVE-BRAND
            type: textfield
            tags:
              - MS-ABORTION-CONTROL-ITEM|brandNameContraceptive|1
          - field: abortion-forms.field-labels.CONTRACEPTIVE-NUMBER
            type: textfield
            tags:
              - MS-ABORTION-CONTROL-ITEM|brandNameContraceptiveNumber|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.FUTURE-CONTRACEPTION
            type: checkbox
            styleOptions:
              direction: column
              span: 4
            codifications:
              - MS-ABORTION-CONTRACEPTION
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptionFuture|1
              - MS-ABORTION-ITEM|contraception|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.OTHER-FUTURE-CONTRACEPTION
            type: textfield
            computedProperties:
              hidden: |
                return !self['abortion-forms.field-labels.FUTURE-CONTRACEPTION']?.some((item) => item?.codes.some(code => code.id === 'other-contraceptives'))
            tags:
              - MS-ABORTION-CONTROL-ITEM|contraceptionFutureOther|1
              - MS-ABORTION-ITEM|contraception|1
              - MS-ABORTION-CONTRACEPTION|custom|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.ULTRASOUND-EVALUATION
            type: dropdown
            codifications:
              - MS-ABORTION-ULTRASOUND-RESULT
            tags:
              - MS-ABORTION-CONTROL-ITEM|resultOfUltrasound|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.NOTES
            type: textfield
            span: 12
            multiline: true
            tags:
              - MS-ABORTION-ITEM|comment-note|1
              - MS-ABORTION-CONTROL-ITEM|medicalNotes|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.COMPLICATION
            type: checkbox
            codifications:
              - MS-ABORTION-COMPLICATION
            span: 12
            sortOptions:
              promotions: none, *, empty, other
              sort: natural
            styleOptions:
              direction: column
              span: 2
            tags:
              - MS-NIHII-CONVENTION-ITEM|complication|1
          - field: abortion-forms.field-labels.COMPLICATION-OTHER
            type: textfield
            span: 6
            computedProperties:
              hidden: |
                return ![...self['abortion-forms.field-labels.COMPLICATION']].some(field => field.codes?.some(c => c.id === 'other'))
            tags:
              - MS-NIHII-CONVENTION-ITEM|complicationOther|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.HCG-DATE
            type: date-picker
            computedProperties:
              defaultValue: |
                return { content: { '*': { type: 'datetime', value: 1000000*parseInt((new Date()).toISOString().replace(/(....)-(..)-(..)T.+/,"$1$2$3")) } }, codes: [] }
            tags:
              - MS-ABORTION-CONTROL-ITEM|HCGDate|1
              - MS-ABORTION-ITEM|date|1
              - MS-ABORTION-DATE|hcg|1
          - field: abortion-forms.field-labels.HCG-DOSAGE
            type: measure-field
            computedProperties:
              defaultValue: |
                return { content: { '*': { type: 'measure', unit: 'UI/l' } }, codes: [] }
            tags:
              - CD-PARAMETER|HCG|1
              - CD-ITEM|parameter|1
              - MS-ABORTION-ITEM|HCG|1
              - MS-ABORTION-CONTROL-ITEM|HCGDosage|1
      - group: line
        borderless: true
        span: 24
        fields:
          - field: abortion-forms.field-labels.FOLLOW-UP-MIN
            type: number-field
            computedProperties:
              defaultValue: |
                return { content: { '*': { type: 'number', value: 30 } }, codes: [] }
            validators:
              - validation: |
                  const mins = parseContent(self['abortion-forms.field-labels.FOLLOW-UP-MIN']?.[0]?.content) ?? 0
                  return mins >= 15 && mins <= 240
                message: abortion-forms.field-labels.FOLLOW-UP-MIN.message
            tags:
              - MS-FOLLOW-UP-MIN|generic|1
              - MS-ABORTION-CONTROL-ITEM|followUpMin|1
              - MS-ABORTION-ITEM|follow-up|1
          - field: abortion-forms.field-labels.FOLLOW-UP-CONTRACEPTION-MIN
            type: number-field
            computedProperties:
              defaultValue: |
                return { content: { '*': { type: 'number', value: 10 } }, codes: [] }
            tags:
              - MS-FOLLOW-UP-MIN|contraception|1
              - MS-ABORTION-CONTROL-ITEM|followUpContraceptionMin|1
              - MS-ABORTION-ITEM|follow-up|1
